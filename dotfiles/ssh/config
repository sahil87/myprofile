#In ~/.ssh/config
#Send null packet to server to keep connection alive
Host *
  ServerAliveInterval 30
  ServerAliveCountMax 60
  Compression yes
  ForwardAgent yes

Host github
  User git

Host git.gmetri.io
  User git

#https://puppet.com/blog/speed-up-ssh-by-reusing-connections/
#This allows opening a ssh session on a terminal, and then every subsequent ssh connection reuses the same over
#Using this to overcome the low ConnectTimout setting when VSCode attemps to connect a server
Host *.gmetri.io
  ControlMaster auto
  ControlPath ~/.ssh/%r@%h-%p
  ControlPersist 600

Host sahil-office
  HostName sahil-office.gmetri.io
  ForwardAgent yes
  ProxyCommand ssh -p 2222 -l gmetri bastion.gmetri.io nc %h %p

Host dev-sahil
  HostName dev-sahil.lan
  User gmetri
  ForwardAgent yes
  ProxyCommand ssh -p 2222 -l gmetri bastion.gmetri.io nc %h %p

Host dev-sahil-fwd
  HostName dev-sahil.lan
  User gmetri
  ForwardAgent yes
  ProxyCommand ssh -p 2222 -l gmetri bastion.gmetri.io nc %h %p
  LocalForward 127.0.0.1:3600 127.0.0.1:3600
  LocalForward 127.0.0.1:3610 127.0.0.1:3610
  LocalForward 127.0.0.1:3620 127.0.0.1:3620
  LocalForward 127.0.0.1:3630 127.0.0.1:3630
  LocalForward 127.0.0.1:3631 127.0.0.1:3631
  LocalForward 127.0.0.1:3632 127.0.0.1:3632
  LocalForward 127.0.0.1:3640 127.0.0.1:3640
  LocalForward 127.0.0.1:3645 127.0.0.1:3645
  LocalForward 127.0.0.1:3650 127.0.0.1:3650
  LocalForward 127.0.0.1:3651 127.0.0.1:3651
  LocalForward 127.0.0.1:3652 127.0.0.1:3652
  LocalForward 127.0.0.1:2812 127.0.0.1:2812
  LocalForward 127.0.0.1:9001 127.0.0.1:9001

# IdentityFile ~/.ssh/git.key

#SportsCafe AWS ip range
#Host 172.31.*.*
#  ProxyCommand ssh gw.sportscafe.in nc %h %p

#For scp: scp  -o "ProxyCommand ssh -p 2222 gw.sportscafe.in nc %h %p" api-prod10.web.int.sg.aws.sportscafe.in:/home/sahil/api-log.tar.gz .
#Host *int.sg.aws.sportscafe.in sportscafe.in !gw.sportscafe.in !10.0.0.*
#  ProxyCommand ssh -p 2222 gw.sportscafe.in nc %h %p

#Host gw.sportscafe.in
#  Port 2222

## Our Us Proxy Server ##
## Forward all local port 3128 traffic to port 3128 on the remote vps1.cyberciti.biz server ##
## $ ssh -f -N  proxyus ##
#Host proxyus
#    HostName vps1.cyberciti.biz
#    User breakfree
#    IdentityFile ~/.ssh/vps1.cyberciti.biz.key
#    LocalForward 3128 127.0.0.1:3128
